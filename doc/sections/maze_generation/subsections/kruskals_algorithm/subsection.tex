\subsection{Algorytm Kruskala}

Algorytm Kruskala, podobnie jak algorytm Prima, opiera się na tworzeniu minimalnego drzewa rozpinającego. Kluczowym elementem jego działania jest wykorzystanie struktury danych \textit{Disjoint Set} (zbiorów rozłącznych).

Struktura \textit{Disjoint Set} reprezentuje rozłączne zbiory elementów za pomocą drzew. Na początku każdy element tworzy pojedynczy, jednoelementowy zbiór, którego reprezentantem jest korzeń drzewa. Główna operacja na tej strukturze, \textit{union}, łączy dwa zbiory, tworząc jedno drzewo, w którym korzeń jednego zbioru staje się potomkiem korzenia drugiego. W ten sposób zbiory są scalane. Schematyczne przedstawienie scalania zbiorów znajduje się na Rysunku \ref{fig:disjoint_set}.

\input{sections/maze_generation/subsections/kruskals_algorithm/figures/disjoint_set}

Generowanie labiryntu przebiega następująco:
\begin{enumerate}
    \item Tworzona jest siatka, w której wszystkie pola są oznaczone jako przejścia.

    \input{sections/maze_generation/subsections/kruskals_algorithm/figures/kruskal_step_1}

    \item Każde pole planszy jest osobnym zbiorem w strukturze \textit{Disjoint Set}. Na tym etapie żadna komórka nie jest jeszcze połączona z inną.

    \input{sections/maze_generation/subsections/kruskals_algorithm/figures/kruskal_step_2}

    \item Komórki planszy są rozpatrywane w losowej kolejności:
    \begin{enumerate}
        \item Dla wybranej komórki określa się bezpośrednich sąsiadów. W tym przypadku są to pola bezpośrednio przyległe w górę, doł, lewo lub prawo - inaczej niż przyjęto w algorytmie Prima.
        
        \input{sections/maze_generation/subsections/kruskals_algorithm/figures/kruskal_step_3a}

        \item Jeśli wszyscy sąsiedzi należą do różnych zbiorów:
        \begin{enumerate}
            \item Wylosowana komórka staje się ścianą.
            \item Sąsiedzi zostają połączeni w jeden zbiór.
        \end{enumerate}

        \input{sections/maze_generation/subsections/kruskals_algorithm/figures/kruskal_step_3b}

        \item Jeśli chociaż dwaj sąsiedzi należą do tego samego zbioru, komórka nie zostaje oznaczona jako ściana – pozostaje przejściem.

        \input{sections/maze_generation/subsections/kruskals_algorithm/figures/kruskal_step_3c}
    \end{enumerate}

    \item Proces powtarza się, aż każda komórka zostanie przetworzona.
    
    \input{sections/maze_generation/subsections/kruskals_algorithm/figures/kruskal_later_steps}

    \input{sections/maze_generation/subsections/kruskals_algorithm/figures/kruskal_example_maze}
\end{enumerate}

\clearpage