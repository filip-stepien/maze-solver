\begin{figure}[H]
    \centering
    \begin{tikzpicture}[scale=0.8]
        \draw[step=1cm, ultra thin, black] (0,0) grid (5,5);

        \newcounter{char_kruskal_3b}
        \setcounter{char_kruskal_3b}{1}
        \foreach \x in {0,...,4} {
            \foreach \y in {0,...,4} {
                \ifnum\value{char_kruskal_3b}<26
                    \node at (\x + 0.5, 4.5 - \y) {\small\textbf{\Alph{char_kruskal_3b}}};
                    \stepcounter{char_kruskal_3b}
                \fi
            }
        }

        \fill[white] (0.1,1.1) rectangle ++(0.8, 0.8);
        \fill[white] (1.1,0.1) rectangle ++(0.8, 0.8);
        \fill[white] (1.1,2.1) rectangle ++(0.8, 0.8);
        \fill[white] (2.1,1.1) rectangle ++(0.8, 0.8);

        \node at (0.5, 1.5) {\small\textbf{H}};
        \node at (1.5, 0.5) {\small\textbf{H}};
        \node at (1.5, 2.5) {\small\textbf{H}};
        \node at (2.5, 1.5) {\small\textbf{H}};

        \draw[ultra thick] (0, 1) -- (0, 2);
        \draw[ultra thick] (1, 0) -- (1, 1);
        \draw[ultra thick] (2, 0) -- (2, 1);
        \draw[ultra thick] (3, 1) -- (3, 2);
        \draw[ultra thick] (3, 1) -- (3, 2);
        \draw[ultra thick] (1, 2) -- (1, 3);
        \draw[ultra thick] (2, 2) -- (2, 3);

        \draw[ultra thick] (1, 0) -- (2, 0);
        \draw[ultra thick] (1, 3) -- (2, 3);
        \draw[ultra thick] (0, 2) -- (1, 2);
        \draw[ultra thick] (0, 1) -- (1, 1);
        \draw[ultra thick] (2, 1) -- (3, 1);
        \draw[ultra thick] (2, 2) -- (3, 2);

        \fill[gray] (1,1) rectangle ++(1,1);
    \end{tikzpicture}
    \caption{\centering Łączenie komórek w zbiory. Reprezentantem zbioru jest pierwszy dodany element (tutaj komórka H), choć może to być dowolna komórka z grupy.}
    \label{fig:kruskal_step_3_b}
\end{figure}
